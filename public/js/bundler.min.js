var Utils={responseIsValid:function(t){return!(!t||!t[0]||null===t[0])}},ChromeAPI={query:function(t){return new Promise(function(e,n){chrome.tabs.query(t,function(t){return Utils.responseIsValid(t)?void e(t[0]):n(t)})})},executeScript:function(t,e){return new Promise(function(n,r){chrome.tabs.executeScript(t,e,function(t){return Utils.responseIsValid(t)?void n(t[0]):r(t)})})}},API={chrome:ChromeAPI,getCurrentTab:function(){return API.chrome.query({active:!0})},getNewBranchButtonAttribute:function(t,e){return API.chrome.executeScript(t,{code:'document.getElementById("new-branch").getElementsByTagName("a")[1].getAttribute("'+e+'");'})}},DOM={setBranchName:function(t){document.getElementById("branch-name").value=t}},Action={addClipboardListener:function(){new Clipboard(".btn")},setBrancheNameAndAddClipboardListener:function(t){DOM.setBranchName("git checkout -b "+t),Action.addClipboardListener()},fetchBranchNameAttribute:function(t){return new Promise(function(e,n){API.getNewBranchButtonAttribute(t,"title").then(function(t){e(t)}).catch(function(){API.getNewBranchButtonAttribute(t,"data-original-title").then(function(t){e(t)}).catch(function(){n()})})})},fetchBranchName:function(){API.getCurrentTab().then(function(t){Action.fetchBranchNameAttribute().then(function(t){Action.setBrancheNameAndAddClipboardListener(t)}).catch(function(t){DOM.setBranchName("Branch name not found")})})}},initApp=function(){Action.fetchBranchName()};document.addEventListener("DOMContentLoaded",initApp);